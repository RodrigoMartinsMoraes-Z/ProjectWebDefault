
@{
    ViewData["Title"] = "Gerenciamento";
}

<div ng-init="verifyAuth()">
    <ul class="nav nav-tabs"
        ng-if="user.role == 2">
        <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/Account">General</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/Products">Product</a>
        </li>
    </ul>
    <br />
    <form class="form-group">
        <div class="row">
            <div class="col-sm-9"></div>
            <div class="col-sm-1">
                <button type="button"
                        class="btn btn-sm btn-outline-primary"
                        ng-click="dontEdit = !dontEdit"
                        title="edit">
                    <i class="fa fa-edit"></i>
                </button>
            </div>

            <div class="col-sm-1">
                <button type="button"
                        class="btn btn-sm btn-outline-success"
                        ng-disabled="dontEdit"
                        ng-click="salvar()"
                        title="save changes">
                    <i class="fa fa-save"></i>
                </button>
            </div>

            <div class="col-sm-1">
                <button type="button"
                        class="btn btn-sm btn-outline-warning"
                        title="change password"
                        data-toggle="modal"
                        data-target="#changePass">
                    <i class="fa fa-key"></i>
                </button>
            </div>
        </div>

        <div class="row"></div>

        <div class="row">
            <div class="col-sm-6">
                <label>
                    Login
                </label>
                    <input type="text"
                           class="form-control"
                           ng-model="user.login"
                           ng-disabled="dontEdit" />
            </div>

            <div class="col-sm-6">
                <label>
                    Email
                </label>
                    <input type="text"
                           class="form-control"
                           ng-model="user.email"
                           ng-disabled="dontEdit" />
            </div>
        </div>

        <div class="row">
            <div class="col-sm-6">
                <label>
                    Name
                </label>
                    <input type="text"
                           class="form-control"
                           ng-model="user.person.name"
                           ng-disabled="dontEdit" />
            </div>

            <div class="col-sm-6">
                <label>
                    Birth
                </label>
                    <input type="date"
                           date-input
                           class="form-control"
                           ng-model="user.person.birth"
                           ng-disabled="dontEdit" />
            </div>
        </div>
    </form>
    <div style=" border-top:groove"
         ng-if="user.role == 2">
        <div class="row">
            <div class="col">
                Change Background
            </div>
        </div>
        <div class="row">
            <div class="col-sm-8">
                <input type="file"
                       accept='image/*'
                       id="backgroundImage"
                       onchange="angular.element(this).scope().changeBackground()" />
            </div>
            <div class="col-sm-2">
                <button ng-click="dontEdit = !dontEdit; dontEdit = !dontEdit"
                        title="Visualize"
                        class="btn btn-sm btn-outline-primary">
                    <i class="fa fa-eye"></i>
                </button>
            </div>
            <div class="col-sm-2">
                <button ng-click="uploadBackground()"
                        title="Confirm changes"
                        class="btn btn-sm btn-outline-success">
                    <i class="fa fa-upload"></i>
                </button>
            </div>
        </div>
    </div>


    <div id="changePass" class="modal fade">
        <div class="modal-dialog" style="margin-top:20%">
            <div class="modal-content container">
                <form class="form-group"
                      style="margin:10px">
                    <div class="row">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6">
                            <label>
                                Current Password
                                <input type="password"
                                       class="form-control"
                                       ng-model="currentPassword" />
                            </label>
                        </div>
                        <div class="col-sm-3"></div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6">
                            <label>
                                New Password
                                <input type="password"
                                       class="form-control"
                                       ng-model="newPass" />
                            </label>
                        </div>
                        <div class="col-sm-3"></div>
                    </div>

                    <div class="row">
                        <div class="col-sm-3"></div>
                        <div class="col-sm-6">
                            <label>
                                Confirm new Password
                                <input type="password"
                                       class="form-control"
                                       ng-model="newPassCheck" />
                            </label>
                        </div>
                        <div class="col-sm-3"></div>
                    </div>

                    <div class="row">
                        <div class="col-sm-2"></div>
                        <div class="col-sm-8">
                            <button class="btn btn-block btn-outline-primary"
                                    ng-click="changePass()">
                                Change Password
                            </button>
                        </div>
                        <div class="col-sm-2"></div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>



@section Scripts{

}